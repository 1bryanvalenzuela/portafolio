---
import Contributions from "./gitcontrib";
import Form from "./form/main.astro";
import Enlaces from "./links/main.astro";
import Card from "./card.astro";
import projects from "../../public/projects.json";

const projectsArray = Object.entries(projects);

// Info via JSON
// Proyectos via JSON
// Formulario para contactar
// Animación en los LINKS
// Animación. Pagina separada para proyectos (?)
// Certificados al final
// Animación escritura en nombre
---

<div class="relative flex w-full bg-primary">
  <div class="absolute inset-0 overflow-hidden">
    <div class="content-bg absolute -inset-[10px]"></div>
  </div>
  <div
    class="flex flex-col w-full light-top items-center text-center gap-12 pt-30"
  >
    <div
      class="w-full px-8 md:px-0 md:w-[720px] flex flex-col items-center text-center gap-12"
    >
      <h1
        class="flex z-2 ubuntu-mono-regular text-3xl md:text-6xl font-bold text-color-primary transition-colors
before:animate-typewriter after:animate-caret"
      >
        Bryan Valenzuela
      </h1>
      <p class="ubuntu-regular text-justify z-2">
        Ingeniero en Negocios Internacionales, especialista en gestionar la
        tecnología y los datos, para hacerlos más eficientes. Con experiencia en
        desarrollo web, confección y gestión de bases de datos, y soporte
        informático.
      </p>
      <p class="ubuntu-regular text-justify z-3">
        En general, ofrezco análisis de datos estadísticos, creación de bases de
        datos desde cero, desarrollo funcional y visual de sitios web, y
        asesoría tecnológica para hacer más eficientes los procesos comerciales.
      </p>
    </div>
    <div
      class="w-full px-8 md:px-0 md:w-[720px] flex flex-col md:flex-row md:justify-between text-color-primary ubuntu-mono-regular text-xl md:text-2xl font-bold gap-8 z-3"
    >
      <Enlaces />
    </div>
  </div>
</div>
<div
  id="projects"
  class="flex bg-primary ubuntu-regular items-center justify-center pt-30"
>
  <div class="flex flex-col w-full md:w-[720px] gap-12">
    <h2
      class="flex z-2 ubuntu-mono-regular text-2xl md:text-4xl font-bold text-color-primary transition-colors mx-8 md:mx-0"
    >
      /Proyectos
    </h2>
    {
      projectsArray.map(([id, project]) => (
        <Card
          id={id}
          title={project.title}
          tags={project.tags}
          link={project.link}
        >
          <p class="text-justify">{project.content}</p>
        </Card>
      ))
    }
  </div>
</div>
<div class="flex justify-center bg-primary pt-12">
  <div class="w-full px-8 md:px-0 md:w-[720px]">
    <Contributions client:only="React" />
  </div>
</div>
<div id="contact" class="flex justify-center bg-primary pt-30">
  <div class="w-full px-8 md:px-0 md:w-[720px]">
    <h2
      class="flex z-2 ubuntu-mono-regular text-2xl md:text-4xl font-bold text-color-primary transition-colors md:mx-0"
    >
      /Contacto
    </h2>
    <Form />
  </div>
</div>

<style>
  .content-bg {
    --stripes: repeating-linear-gradient(
      100deg,
      #23601720 0%,
      #23601720 7%,
      transparent 10%,
      transparent 12%,
      #23601720 16%
    );
    --rainbow: repeating-linear-gradient(
      100deg,
      #a6ffa609 10%,
      #7cff6b28 15%,
      #a6ffa609 20%,
      #38ff5924 25%,
      #a6ffa609 30%
    );
    background-image: var(--stripes), var(--rainbow);
    background-size: 300%, 200%;
    background-position:
      50% 50%,
      50% 50%;
    pointer-events: none;
    mask-image: linear-gradient(
        90deg,
        rgba(0, 0, 0, 0.8) 10%,
        transparent 40%,
        transparent 60%,
        rgba(0, 0, 0, 0.8) 90%
      ),
      linear-gradient(0deg, transparent 20%, black 80%);
    mask-composite: intersect, intersect;
  }
</style>
